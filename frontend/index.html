<!DOCTYPE html>
<html lang="tr" class="bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-gray-900 dark:to-indigo-950">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kargo Takip Sistemi++</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#6366f1',
            'primary-dark': '#4f46e5',
            'primary-light': '#818cf8',
          }
        }
      }
    }
  </script>
  <style>
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .gradient-animate {
      background-size: 200% 200%;
      animation: gradient 15s ease infinite;
    }
    .glass {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .dark .glass {
      background: rgba(17, 24, 39, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* Table Styling */
    #kargoTable tbody tr {
      transition: all 0.3s ease;
    }
    
    #kargoTable tbody tr:hover {
      background: rgba(99, 102, 241, 0.05);
      transform: translateX(4px);
    }
    
    #kargoTable th {
      position: relative;
      overflow: hidden;
    }
    
    #kargoTable th::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(to right, transparent, rgba(99, 102, 241, 0.5), transparent);
      transform: translateX(-100%);
      transition: transform 0.3s ease;
    }
    
    #kargoTable th:hover::after {
      transform: translateX(0);
    }
    
    #kargoTable td {
      transition: all 0.2s ease;
    }
    
    #kargoTable td:hover {
      background: rgba(99, 102, 241, 0.1);
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-gray-900 dark:to-indigo-950 text-gray-900 dark:text-gray-100 transition-all duration-300 flex flex-col">
  <!-- Header -->
  <header class="fixed top-0 left-0 right-0 glass z-50 transition-all duration-300">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-600 dark:from-indigo-400 dark:to-purple-500 flex items-center gap-2">
        <span class="hidden sm:inline text-3xl">ğŸ“¦</span> Kargo Takip Sistemi
      </h1>
      <div class="flex items-center gap-3">
        <button id="deleteAllKargos" type="button" 
          class="px-4 py-2 rounded-lg bg-gradient-to-r from-rose-500 to-pink-600 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 flex items-center gap-2">
          <span>ğŸ—‘ï¸</span>
          <span class="hidden sm:inline">TÃ¼mÃ¼nÃ¼ Sil</span>
        </button>
        <button id="toggleDark" type="button" 
          class="px-4 py-2 rounded-lg bg-gradient-to-r from-primary to-primary-dark text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
          <span class="hidden sm:inline">Tema</span> ğŸŒ™/â˜€ï¸
        </button>
      </div>
    </div>
  </header>

  <main class="flex-1 flex flex-col pt-24 pb-8 px-4">
    <div class="w-full max-w-7xl mx-auto flex flex-col items-center space-y-6">
      <!-- Sayfa BaÅŸlÄ±ÄŸÄ± -->
      <div class="w-full p-6 glass rounded-2xl shadow-lg transition-all duration-300">
        <h2 class="text-xl font-semibold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-600 dark:from-indigo-400 dark:to-purple-500 mb-4">Yeni Kargo Ekle</h2>
        <div class="w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <form id="kargoForm" class="col-span-1 md:col-span-2 lg:col-span-3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <label class="flex flex-col">
              <span class="text-sm font-medium mb-1">ğŸ“¦ Takip No</span>
              <input type="text" id="takipNo" required 
                class="rounded-lg border-gray-300 focus:border-primary focus:ring-primary shadow-sm
                       bg-white/50 dark:bg-gray-800/50 text-gray-900 dark:text-gray-100" />
            </label>
            <label class="flex flex-col">
              <span class="text-sm font-medium mb-1">ğŸª MaÄŸaza ID</span>
              <input type="text" id="magazaID" 
                class="rounded-lg border-gray-300 focus:border-primary focus:ring-primary shadow-sm
                       bg-white/50 dark:bg-gray-800/50 text-gray-900 dark:text-gray-100" />
            </label>
            <label class="flex flex-col">
              <span class="text-sm font-medium mb-1">ğŸ« Talep ID</span>
              <input type="text" id="talepID" 
                class="rounded-lg border-gray-300 focus:border-primary focus:ring-primary shadow-sm
                       bg-white/50 dark:bg-gray-800/50 text-gray-900 dark:text-gray-100" />
            </label>
            <div class="col-span-1 sm:col-span-2 lg:col-span-3 flex flex-wrap gap-3 justify-end">
              <button type="submit" 
                class="flex-1 sm:flex-none bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-2.5 rounded-lg 
                       font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 flex items-center justify-center gap-2">
                <span>â•</span> Ekle
              </button>
              <button id="loadFrom4me" type="button" 
                class="flex-1 sm:flex-none bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-2.5 rounded-lg 
                       font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 flex items-center justify-center gap-2">
                <span>ğŸ“¥</span> 4me'den YÃ¼kle
              </button>
              <button id="updateKargos" type="button" 
                class="flex-1 sm:flex-none bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-2.5 rounded-lg 
                       font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 flex items-center justify-center gap-2">
                <span>ğŸ”„</span> GÃ¼ncelle
              </button>
            </div>
          </form>
        </div>
      
      <!-- Filtreleme ve Arama BÃ¶lÃ¼mÃ¼ -->
      <div class="w-full p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg space-y-6">
        <!-- Arama Kutusu -->
        <div class="relative">
          <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-500 dark:text-gray-400">
            ğŸ”
          </span>
          <input type="text" id="searchInput" 
            placeholder="Takip No, MaÄŸaza ID veya Talep ID ile arayÄ±n..." 
            class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600
                   focus:border-primary focus:ring-2 focus:ring-primary/20 
                   bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 
                   text-lg placeholder-gray-500 dark:placeholder-gray-400
                   transition-all duration-200" />
        </div>
        
        <!-- Filtreleme ve SÄ±ralama -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Filtreler -->
          <div class="space-y-3">
            <h3 class="text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2">
              <span>ğŸ“Š</span> Durum Filtreleri
            </h3>
            <div class="flex flex-wrap gap-2">
              <button id="filterAll" 
                class="filter-btn active bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md">
                ğŸ”¥ TÃ¼mÃ¼ <span class="count bg-white text-blue-500 px-2 py-0.5 rounded-full text-xs ml-1 shadow-inner">0</span>
              </button>
              <button id="filterDelivered" 
                class="filter-btn bg-green-500 hover:bg-green-600 text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md">
                âœ… Teslim Edildi <span class="count bg-white text-green-500 px-2 py-0.5 rounded-full text-xs ml-1 shadow-inner">0</span>
              </button>
              <button id="filterPending" 
                class="filter-btn bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md">
                â³ Beklemede <span class="count bg-white text-yellow-500 px-2 py-0.5 rounded-full text-xs ml-1 shadow-inner">0</span>
              </button>
            </div>
            <h1>HER TIKLAMADA 5LÄ°NK AÃ‡ILIR SIRASIYLA</h1>
            <!-- Toplu Link AÃ§ma ButonlarÄ± -->
            <div class="flex flex-wrap gap-2 mt-4">
              <button id="openDeliveredTrackingLinks" 
                class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md flex items-center gap-2">
                <span>ğŸ”—</span> Teslim Edilenlerin Kargo Linklerini AÃ§
              </button>
              <button id="openPendingTrackingLinks" 
                class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md flex items-center gap-2">
                <span>ğŸ”—</span> Bekleyenlerin Kargo Linklerini AÃ§ 
              <button id="openDeliveredRequestLinks" 
                class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md flex items-center gap-2">
                <span>ğŸ«</span> Teslim Edilen Talepleri AÃ§
              </button>
              <button id="openPendingRequestLinks" 
                class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md flex items-center gap-2">
                <span>ğŸ«</span> Bekleyen Talepleri AÃ§ 
              </button>
            </div>
          </div>
          
          <!-- HÄ±zlÄ± SÄ±ralama -->
          <div class="space-y-3">
            <h3 class="text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2">
              <span>âš¡</span> HÄ±zlÄ± SÄ±ralama
            </h3>
            <div class="flex flex-wrap gap-2">
              <button id="sortDeliveredFirst" 
                class="bg-primary hover:bg-primary-dark text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md flex items-center gap-2">
                <span>ğŸ”</span> Teslim Edilenleri Ãœste
              </button>
              <button id="sortPendingFirst" 
                class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 
                       rounded-lg text-sm font-medium transition-all duration-200 
                       transform hover:scale-105 shadow-md flex items-center gap-2">
                <span>ğŸ”„</span> Bekleyenleri Ãœste
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tablo ve SonuÃ§lar -->
      <div class="w-full max-w-7xl mx-auto space-y-4">
        <!-- SonuÃ§ SayÄ±sÄ± -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4">
          <p id="talepSayisi" class="text-gray-600 dark:text-gray-400 text-lg font-medium">ğŸ“Š YÃ¼kleniyor...</p>
        </div>

        <!-- Tablo -->
        <div class="overflow-hidden bg-white/90 dark:bg-gray-800/90 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 backdrop-blur-sm transition-all duration-300 hover:shadow-2xl">
          <div class="w-full overflow-x-auto">
            <table id="kargoTable" class="w-full min-w-[1024px] divide-y divide-gray-200 dark:divide-gray-700">
              <thead>
                <tr class="bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-200">
                                    <th scope="col" class="w-48 p-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap sortable" data-sort="takipNo">
                    <div class="flex items-center gap-2">
                      <span>ğŸ“¦ Takip No</span>
                      <span class="sort-indicator">â†•ï¸</span>
                    </div>
                  </th>
                  <th scope="col" class="w-40 p-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap sortable" data-sort="magazaId">
                    <div class="flex items-center gap-2">
                      <span>ğŸª MaÄŸaza ID</span>
                      <span class="sort-indicator">â†•ï¸</span>
                    </div>
                  </th>
                  <th scope="col" class="w-40 p-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap sortable" data-sort="talepId">
                    <div class="flex items-center gap-2">
                      <span>ğŸ« Talep ID</span>
                      <span class="sort-indicator">â†•ï¸</span>
                    </div>
                  </th>
                  <th scope="col" class="w-64 p-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider sortable" data-sort="talepAdi">
                    <div class="flex items-center gap-2">
                      <span>ğŸ“ Talep AdÄ±</span>
                      <span class="sort-indicator">â†•ï¸</span>
                    </div>
                  </th>
                  <th scope="col" class="w-32 p-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider sortable" data-sort="durum">
                    <div class="flex items-center gap-2">
                      <span>ğŸ“Š Durum</span>
                      <span class="sort-indicator">â†•ï¸</span>
                    </div>
                  </th>
                  <th scope="col" class="w-24 p-4 text-center text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider">
                    <span>ğŸ—‘ï¸ Sil</span>
                  </th>
                  </tr>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
              </tbody>
            </table>
            <div class="w-full h-1 bg-gradient-to-r from-primary/20 via-primary/40 to-primary/20"></div>
          </div>
        </div>
      </div>
    <!-- Loading Overlay -->
    <div class="loading-overlay fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center z-50 hidden" id="loadingOverlay">
      <div class="text-center">
        <div class="loading-spinner w-12 h-12 border-4 border-gray-200 border-t-primary rounded-full animate-spin mx-auto"></div>
        <div class="loading-text text-white mt-4 text-lg">Kargolar kontrol ediliyor..., lÃ¼tfen bekleyiniz...</div>
      </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
      <div class="bg-white dark:bg-gray-800 rounded-lg p-8 max-w-md w-full mx-4 shadow-2xl">
        <h2 class="text-2xl font-bold mb-6 text-center text-primary">4me GiriÅŸ</h2>
        <form id="loginForm" class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">E-posta:</label>
            <input type="email" id="loginEmail" required 
                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Åifre:</label>
            <input type="password" id="loginPassword" required 
                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100" />
          </div>
          <div class="flex gap-4 pt-4">
            <button type="submit" class="flex-1 bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-lg font-medium transition-colors">
              GiriÅŸ Yap
            </button>
            <button type="button" id="cancelLogin" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-medium transition-colors">
              Ä°ptal
            </button>
          </div>
        </form>
      </div>
    </div>



    <!-- Status Modal -->
    <div id="statusModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
      <div class="bg-white dark:bg-gray-800 rounded-lg p-8 max-w-3xl w-full mx-4 shadow-2xl">
        <h2 class="text-2xl font-bold mb-6 text-center text-primary">Ä°ÅŸlem Durumu</h2>
        <div class="flex flex-col md:flex-row gap-6">
          <!-- Sol taraf - Ana durum -->
          <div class="flex-1 text-center">
            <div class="mb-4">
              <div class="w-16 h-16 mx-auto mb-4">
                <div class="w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"></div>
              </div>
            </div>
            <div id="statusMessage" class="text-lg font-medium text-gray-700 dark:text-gray-300 mb-4">
              Ä°ÅŸlem baÅŸlatÄ±lÄ±yor...
            </div>
            <div id="statusDetails" class="text-sm text-gray-500 dark:text-gray-400">
              LÃ¼tfen bekleyiniz...
            </div>
          </div>
          
      
        </div>
      </div>
    </div>
  </div>
  <script>
    // Dark mode toggle
    document.addEventListener('DOMContentLoaded', function() {
      const btn = document.getElementById('toggleDark');
      btn.addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
      });
    });
  </script>
  <script src="script.js"></script>
</body>
</html>
